:root {
  /* Breakpoints */
  --breakpoint-xs: 350px;  /* Extra small devices (small phones) */
  --breakpoint-sm: 576px;  /* Small devices (phones) */
  --breakpoint-md: 768px;  /* Medium devices (tablets) */
  --breakpoint-lg: 992px;  /* Large devices (small laptops) */
  --breakpoint-xl: 1200px; /* Extra large devices (large laptops/desktops) */
  
  /* Base flap measurements - mobile first (smallest size) */
  --flap-width: 12px;
  --flap-height: 25px;
  --flap-margin: 0px;
  --flap-border: 1px;
  --flap-border-radius: calc(var(--flap-width) * 0.06);
  --inner-border-radius: calc(var(--flap-width) * 0.04);
  --display-padding: 0px;
  
  /* Spacing system - reduce default gaps */
  --spacing-xs: 8px;
  --spacing-sm: 15px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  
  /* Board layout */
  --board-max-width: 100%;
  --board-padding: var(--spacing-sm);
  --row-gap: var(--spacing-xs);
  --column-gap: 5px;
  --header-gap: var(--spacing-xs);
  
  /* Typography */
  --font-family-primary: 'Arial', sans-serif;
  --font-weight-bold: 800;
  --header-font-size: 10px;
  --title-font-size: 15px;
  --flap-font-size: 13px;
  --letter-spacing: -0.5px;
  
  /* Colors */
  --flap-border-color: #000000;
  --flap-bg-color: rgb(15, 15, 15);
  
  /* Calculate widths */
  --char-total-width: calc(var(--flap-width) + (var(--flap-margin) * 2));
  
  /* Column configuration */
  --time-chars: 5;
  --from-chars: 5;
  --flight-chars: 6;
  --remarks-chars: 10;
  
  /* Calculate display widths */
  --time-width: calc((var(--char-total-width) * var(--time-chars)) + (var(--display-padding) * 2));
  --from-width: calc((var(--char-total-width) * var(--from-chars)) + (var(--display-padding) * 2));
  --flight-width: calc((var(--char-total-width) * var(--flight-chars)) + (var(--display-padding) * 2));
  --remarks-width: calc((var(--char-total-width) * var(--remarks-chars)) + (var(--display-padding) * 2));
  
  /* Border and shadow measurements */
  --flap-divider-width: 0.1px;
  --text-shadow-offset: calc(var(--flap-height) * 0.02);
  --text-shadow-blur: calc(var(--flap-height) * 0.04);
  --text-glow-blur: calc(var(--flap-height) * 0.1);
  
  /* Add specific gap for double-height displays */
  --remarks-gap: 2px;  /* Gap between top and bottom remarks displays */
}

@font-face {
  font-family: 'Flipboard';
  src: url('https://fonts.cdnfonts.com/css/ds-digital') format('woff2');
}

/* Animation keyframes */
@keyframes flip {
  from { transform: rotateX(-0deg); }
  to { transform: rotateX(-90deg); }
}

@keyframes bflip {
  from { transform: rotateX(90deg); }
  to { transform: rotateX(0deg); }
}

/* Board layout */
.departure-board {
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  background: linear-gradient(
    170deg,
    rgb(20, 20, 20) 0%,
    rgb(30, 30, 30) 35%,
    rgb(25, 25, 25) 65%,
    rgb(18, 18, 18) 100%
  );
  padding: var(--board-padding);
  color: white;
  font-family: monospace;
  width: 100%;
  margin-top: 60px;
  position: relative;
  box-shadow: 
    inset 0 2px 4px rgba(255,255,255,0.05),
    inset 0 -2px 4px rgba(0,0,0,0.2);
}

/* Add brushed metal texture effect */
.departure-board::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    /* Horizontal brushed lines */
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 1px,
      rgba(255,255,255,0.015) 1px,
      rgba(255,255,255,0.015) 2px
    ),
    /* Vertical subtle variation */
    repeating-linear-gradient(
      180deg,
      transparent,
      transparent 1px,
      rgba(0,0,0,0.02) 1px,
      rgba(0,0,0,0.02) 4px
    ),
    /* Diagonal texture for depth */
    linear-gradient(
      45deg,
      transparent 25%,
      rgba(255,255,255,0.02) 25%,
      rgba(255,255,255,0.02) 26%,
      transparent 26%,
      transparent 75%,
      rgba(255,255,255,0.02) 75%
    );
  background-size: 4px 100%, 100% 4px, 8px 8px;
  pointer-events: none;
  opacity: 0.4;
  mix-blend-mode: overlay;
}

/* Add subtle edge lighting effect */
.departure-board::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    170deg,
    rgba(255,255,255,0.03) 0%,
    transparent 20%,
    transparent 80%,
    rgba(0,0,0,0.1) 100%
  );
  pointer-events: none;
}

.board-title {
  font-size: var(--title-font-size);
  margin-bottom: var(--spacing-xl);
  font-weight: normal;
  text-align: center;
}

.board-content {
  width: 100%;
  max-width: var(--board-max-width);
  display: flex;
  flex-direction: column;
  gap: 0;
  min-width: min-content;
  position: relative;
  padding: 0 var(--spacing-md);
  background: linear-gradient(
    180deg,
    rgba(15,15,15,0.9) 0%,
    rgba(20,20,20,0.9) 100%
  );
  border-radius: 4px;
  box-shadow: 
    0 2px 4px rgba(0,0,0,0.2),
    0 -1px 4px rgba(0,0,0,0.1),
    inset 0 1px 1px rgba(255,255,255,0.05);
  padding: var(--spacing-md);
  margin: 0 var(--spacing-md);
}

/* Grid system - tighter spacing */
.board-headers,
.board-row {
  display: grid;
  grid-template-columns: var(--time-width) var(--from-width) var(--flight-width) var(--remarks-width);
  gap: var(--column-gap);
  width: fit-content;
  margin: 0 auto;
  position: relative; /* For divider positioning */
}

/* Add dividers between rows */
.board-row {
  padding: var(--row-gap) 0;
  width: 100%;
}

/* Create divider lines between rows */
.board-row:not(:last-child)::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    to right,
    transparent,
    rgba(255, 255, 255, 0.1) 0%,
    rgba(255, 255, 255, 0.1) 100%,
    transparent
  );
  /* Add subtle shadow effect */
  box-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.3),
    0 -0.5px 1px rgba(255, 255, 255, 0.05);
}

.board-headers {
  margin-bottom: var(--header-gap);
  /* Add a slightly more prominent divider under headers */
  position: relative;
  width: 100%;
}

.board-headers::after {
  content: '';
  position: absolute;
  bottom: -7px;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    to right,
    transparent,
    rgba(255, 255, 255, 0.15) 0%,
    rgba(255, 255, 255, 0.15) 100%,
    transparent
  );
  /* Add more pronounced shadow for header divider */
  box-shadow: 
    0 1px 3px rgba(0, 0, 0, 0.4),
    0 -0.5px 1px rgba(255, 255, 255, 0.07);
}

.header-item {
  font-size: var(--header-font-size);
  color: #ffffff;
  text-align: left;
  width: 100%;
  padding: 0 var(--display-padding);
  margin-left: 10px;
}

/* Row layout */
.board-row {
  min-height: calc(var(--flap-height) * 2);
  align-items: center;
}

.row-item {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
}

/* Update display stack styles */
.display-stack {
  display: flex;
  flex-direction: column;
  height: var(--flap-height); /* Single height by default */
}

.single-height {
  justify-content: center;
}

.double-height {
  height: calc(var(--flap-height) * 2); /* Exact height for two displays */
  gap: var(--remarks-gap); /* Explicit gap between displays */
}

/* Split flap display - enhance depth */
.split-flap-display {
  display: flex;
  position: relative;
  background: linear-gradient(180deg, 
    rgba(10,10,10,1) 0%,
    rgba(15,15,15,1) 100%);
  padding: var(--display-padding);
  border-radius: var(--flap-border-radius);
  box-shadow: 
    inset 0 2px 4px rgba(0,0,0,0.5),
    inset 0 -2px 4px rgba(0,0,0,0.5);
}

/* Enhance flap depth and texture */
.flap {
  width: var(--flap-width);
  height: var(--flap-height);
  border: var(--flap-border) solid var(--flap-border-color);
  margin: var(--flap-margin);
  font-size: var(--flap-font-size);
  font-family: var(--font-family-primary);
  font-weight: var(--font-weight-bold);
  display: flex;
  flex-direction: column;
  background-color: var(--flap-bg-color);
  perspective: 1000px;
  overflow: hidden;
  border-radius: var(--flap-border-radius);
  position: relative;
  box-shadow: 
    -1px 0 1px rgba(0,0,0,0.3),
    1px 0 1px rgba(0,0,0,0.3),
    inset 0 2px 3px rgba(255,255,255,0.05),
    inset 0 -2px 3px rgba(0,0,0,0.2);
}

/* Add subtle texture to flaps */
.flap::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    linear-gradient(45deg, 
      rgba(255,255,255,0.02) 25%, 
      transparent 25%, 
      transparent 75%, 
      rgba(255,255,255,0.02) 75%),
    linear-gradient(-45deg, 
      rgba(255,255,255,0.02) 25%, 
      transparent 25%, 
      transparent 75%, 
      rgba(255,255,255,0.02) 75%);
  background-size: 4px 4px;
  pointer-events: none;
  opacity: 0.4;
  mix-blend-mode: overlay;
}

/* Enhance flap sections with depth */
.top,
.bottom {
  width: 100%;
  height: 50%;
  text-align: center;
  position: relative;
  overflow: hidden;
  background: linear-gradient(180deg, 
    rgba(20,20,20,1) 0%,
    rgba(25,25,25,1) 100%);
  border-radius: var(--inner-border-radius);
}

.top {
  border-bottom: var(--flap-divider-width) solid #222;
  box-shadow: 
    inset 0 var(--text-shadow-offset) calc(var(--text-shadow-blur) * 1.5) rgba(255,255,255,0.1),
    0 calc(var(--text-shadow-offset) * -1) 2px rgba(0,0,0,0.9),
    inset 0 -1px 0 rgba(0,0,0,0.3);
}

.bottom {
  border-top: var(--flap-divider-width) solid #111;
  box-shadow: 
    inset 0 calc(var(--text-shadow-offset) * -1) calc(var(--text-shadow-blur) * 1.5) rgba(0,0,0,0.4),
    inset 0 1px 0 rgba(0,0,0,0.3);
}

/* Enhanced flap states with depth */
.top-flap-visible,
.top-flap-queued,
.top-static-flap,
.bottom-flap-visible,
.bottom-flap-queued,
.bottom-static-flap {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  background: linear-gradient(180deg, 
    rgba(12,12,12,1) 0%,
    rgba(18,18,18,1) 50%,
    rgba(8,8,8,1) 100%);
  border-radius: var(--inner-border-radius);
  box-shadow: 
    inset 0 1px 2px rgba(255,255,255,0.05),
    inset 0 -1px 2px rgba(0,0,0,0.3);
}

/* Enhanced text styling with better depth */
.top span,
.bottom span {
  display: block;
  position: relative;
  height: var(--flap-height);
  line-height: var(--flap-height);
  color: white;
  text-shadow: 
    0 -1px 0 rgba(0,0,0,0.7),
    0 1px 0 rgba(255,255,255,0.1),
    0 0 5px rgba(255,255,255,0.05);
  font-family: var(--font-family-primary);
  font-weight: var(--font-weight-bold);
  letter-spacing: var(--letter-spacing);
  -webkit-font-smoothing: antialiased;
}

.top span {
  /* Position the text so its bottom half is at the bottom of the top flap */
  position: absolute;
  bottom: 0%;
  width: 100%;
  transform: translateY(50%);
}

.bottom span {
  /* Position the text so its top half is at the top of the bottom flap */
  position: absolute;
  top: 0%;
  width: 100%;
  transform: translateY(-50%);
}

/* Animation states */
.bottom-flap-queued {
  z-index: 2;
  transform: rotateX(90deg);
}

.top-flap-animation {
  animation: flip 0.05s ease-in;
  transform-origin: bottom;
}

.bottom-flap-animation {
  animation: bflip 0.05s ease-in;
  transform-origin: top;
  animation-delay: 0.05s;
}

/* Noise overlay */
svg {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 5;
  mix-blend-mode: soft-light;
  filter: contrast(320%) brightness(250%);
  width: 100%;
  height: 100%;
  opacity: 0.2;
}

.sound-toggle-wrapper {
  position: absolute;
  top: 70px;
  right: 50px;
  display: flex;
  flex-direction: column;
}

.sound-toggle-wrapper button {
  width: 140px;
  border: 1px solid white;
  height: 40px;
  font-weight: bold;
  transition: 0.2s;
  cursor: pointer;
  margin: 0px 5px;
  border-radius: 10px;
  padding: 10px;
  background-color: #ffffff;
}

.sound-toggle-wrapper button:hover {
  color: white;
  background-color: black;
  transition: 0.2s;
}

.sound-toggle-wrapper button:active {
  transform: scale(0.95);
}

/* Keep yellow color only for remarks with enhanced visibility */
.row-item:last-child .display-stack .split-flap-display span {
  color: #FFEB69;
  text-shadow: 
    0 calc(var(--text-shadow-offset) * -1) 0 rgba(0,0,0,0.7),
    0 var(--text-shadow-offset) 0 rgba(255,255,255,0.1),
    0 0 var(--text-glow-blur) rgba(255,235,105,0.3);
}

/* Mobile-first styles are in the base styles */

/* Small devices (landscape phones) */
@media (min-width: 576px) {
  :root {
    --flap-width: 20px;
    --flap-height: 34px;
    --flap-font-size: 24px;
    --header-font-size: 18px;
    --title-font-size: 36px;
    --board-padding: var(--spacing-md);
    --row-gap: var(--spacing-sm);
    --column-gap: 10px;
    --flap-margin: 1px;
    --display-padding: 0px;
    --flap-divider-width: 0.3px;
  }
}

/* Medium devices (tablets) */
@media (min-width: 768px) {
  :root {
    --flap-width: 20px;
    --flap-height: 36px;
    --flap-font-size: 20px;
    --header-font-size: 18px;
    --title-font-size: 40px;
    --board-padding: var(--spacing-md);
    --row-gap: var(--spacing-md);
    --column-gap: 4px;
    --flap-margin: 1px;
    --display-padding: 0px;
    --flap-divider-width: 0.5px;
    /* Calculate minimum board width based on content */
    --total-content-width: calc(
      var(--time-width) + 
      var(--from-width) + 
      var(--flight-width) + 
      var(--remarks-width) + 
      (var(--column-gap) * 3)
    );
    --board-max-width: max(var(--total-content-width), 720px);
  }

  .board-headers,
  .board-row {
    gap: var(--spacing-sm);
  }
}

/* Large devices (small laptops) */
@media (min-width: 992px) {
  :root {
    --flap-width: 26px;
    --flap-height: 38px;
    --flap-font-size: 28px;
    --header-font-size: 20px;
    --title-font-size: 44px;
    --board-padding: var(--spacing-lg);
    --row-gap: var(--spacing-md);
    --column-gap: 8px;
    --flap-margin: 1px;
    --display-padding: 0px;
    --flap-divider-width: 0.8px;
    /* Calculate minimum board width based on content */
    --total-content-width: calc(
      var(--time-width) + 
      var(--from-width) + 
      var(--flight-width) + 
      var(--remarks-width) + 
      (var(--column-gap) * 3)
    );
    --board-max-width: max(var(--total-content-width), 960px);
  }
}

/* Extra large devices (large laptops/desktops) */
@media (min-width: 1200px) {
  :root {
    --flap-width: 28px;
    --flap-height: 42px;
    --flap-font-size: 30px;
    --header-font-size: 20px;
    --title-font-size: 48px;
    --board-padding: var(--spacing-lg);
    --row-gap: var(--spacing-md);
    --column-gap: 12px;
    --flap-margin: 2px;
    --display-padding: 0px;
    --flap-divider-width: 1px;
    /* Calculate minimum board width based on content */
    --total-content-width: calc(
      var(--time-width) + 
      var(--from-width) + 
      var(--flight-width) + 
      var(--remarks-width) + 
      (var(--column-gap) * 3)
    );
    --board-max-width: max(var(--total-content-width), 1200px);
  }
}

/* Handle very small screens */
@media (max-width: 575px) {
  .departure-board {
    padding: var(--spacing-xs);
  }

  .header-item {
    font-size: var(--header-font-size);
    padding: 0 2px;
    margin-left: 2px;
  }
}

/* Prevent oversized boards on very large screens */
@media (min-width: 1400px) {
  .board-content {
    max-width: var(--board-max-width);
    margin: 0 auto;
  }
}

/* Extra small devices (small phones) */
@media (max-width: 349px) {
  :root {
    --flap-width: 10px;
    --flap-height: 20px;
    --flap-font-size: 11px;
    --header-font-size: 9px;
    --title-font-size: 13px;
    --board-padding: var(--spacing-xs);
    --row-gap: 5px;
    --column-gap: 3px;
    --flap-margin: 0px;
    --display-padding: 0px;
    --flap-divider-width: 0.1px;
  }

  .departure-board {
    padding: 5px;
    margin-top: 50px;
  }

  .header-item {
    font-size: var(--header-font-size);
    padding: 0 1px;
    margin-left: 1px;
  }

  .board-title {
    margin-bottom: var(--spacing-md);
  }
}

/* Update the existing mobile breakpoint to start from 350px */
@media (min-width: 350px) and (max-width: 575px) {
  :root {
    /* Keep your existing mobile variables */
    --flap-width: 12px;
    --flap-height: 25px;
    --flap-font-size: 13px;
    --header-font-size: 10px;
    --title-font-size: 15px;
  }
} 